import{d as g,R as b,K as w,a as c,g as x,o as R,j as v,b as a,f as e,k as N,w as T,S as r,T as I,_ as E}from"./index-148fbec8.js";import{P as K}from"./page-search-41c4eb8c.js";import{u as M,a as L,p as P,b as S}from"./usePageModal-f815ff9d.js";import"./format-7c130e46.js";const A={pageName:"role",formItems:[{type:"input",prop:"name",label:"角色名称",placeholder:"请输入角色名称"},{type:"input",prop:"intro",label:"权限介绍",placeholder:"请输入权限介绍"},{type:"date-picker",prop:"createAt",label:"创建时间"}]},B=A,Q={pageName:"role",header:{title:"角色列表",btnTitle:"新建角色"},propsList:[{type:"selection",width:"80px"},{type:"index",label:"序号",width:"80px"},{type:"normal",prop:"name",label:"角色名称",width:"130px"},{type:"normal",prop:"intro",label:"权限介绍",width:"130px"},{type:"timer",prop:"createAt",label:"创建时间"},{type:"timer",prop:"updateAt",label:"更新时间"},{type:"handler",label:"操作",width:"150px"}]},$=Q,V={pageName:"role",header:{newTitle:"新建角色",editTitle:"编辑角色"},formItems:[{type:"input",label:"角色名称",prop:"name",placeholder:"请输入角色名称"},{type:"input",label:"权限介绍",prop:"intro",placeholder:"请输入权限介绍"},{type:"custom",slotName:"menulist"}]},j=V,q={class:"role"},z={class:"content"},D=g({__name:"role",setup(F){const i=b(),{entireMenus:p}=w(i),{contentRef:d,handleQueryClick:h,handleResetClick:m}=M(),l=c(),f=()=>{r(()=>{var t;(t=l.value)==null||t.setCheckedKeys([])})},u=t=>{r(()=>{var o;const n=I(t.menuList);(o=l.value)==null||o.setCheckedKeys(n)})},{modalRef:_,handleEditClick:k,handleNewClick:C}=L(u,f),s=c({}),y=(t,n)=>{const o=[...n.checkedKeys,...n.halfCheckedKeys];s.value={menuList:o}};return(t,n)=>{const o=x("el-tree");return R(),v("div",q,[a(K,{"search-config":e(B),onQueryClick:e(h),onResetClick:e(m)},null,8,["search-config","onQueryClick","onResetClick"]),N("div",z,[a(P,{"content-config":e($),onEditClick:e(k),onNewClick:e(C),ref_key:"contentRef",ref:d},null,8,["content-config","onEditClick","onNewClick"])]),a(S,{"modal-config":e(j),ref_key:"modalRef",ref:_,"other-info":s.value},{menulist:T(()=>[a(o,{data:e(p),"show-checkbox":"","node-key":"id","highlight-current":"",props:{children:"children",label:"name"},onCheck:y,ref_key:"treeRef",ref:l},null,8,["data"])]),_:1},8,["modal-config","other-info"])])}}});const U=E(D,[["__scopeId","data-v-bd74b4d4"]]);export{U as default};
