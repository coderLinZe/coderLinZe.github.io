import{P as b}from"./page-search-41c4eb8c.js";import{u as _,a as y,p as C,b as g}from"./usePageModal-f815ff9d.js";import{d as k,n as w,R as I,o as x,j as R,b as n,f as o,k as v,_ as N}from"./index-148fbec8.js";import"./format-7c130e46.js";const E={pageName:"users",formItems:[{type:"input",prop:"name",label:"用户名称",placeholder:"请输入用户名称"},{type:"input",prop:"realname",label:"真实姓名",placeholder:"请输入真实姓名"},{type:"input",prop:"cellphone",label:"电话号码",placeholder:"请输入电话号码"},{type:"select",prop:"enable",label:"状态",placeholder:"请选择状态",options:[{label:"启动",value:0},{label:"禁用",value:1}]},{type:"date-picker",prop:"createAt",label:"创建时间"}]},P=E,A={pageName:"users",header:{title:"用户列表",btnTitle:"新建用户"},propsList:[{type:"selection",width:"80px"},{type:"index",label:"序号",width:"80px"},{type:"normal",prop:"name",label:"用户名称",width:"130px"},{type:"normal",prop:"realname",label:"真实姓名",width:"130px"},{type:"normal",prop:"cellphone",label:"手机号码",width:"130px"},{type:"enable",prop:"enable",label:"状态",width:"100px"},{type:"timer",prop:"createAt",label:"创建时间"},{type:"timer",prop:"updateAt",label:"更新时间"},{type:"handler",label:"操作",width:"150px"}]},B=A,H={pageName:"users",header:{newTitle:"新建用户",editTitle:"编辑用户"},formItems:[{type:"input",label:"用户名称",prop:"name",placeholder:"请输入用户名称"},{type:"input",label:"真实姓名",prop:"realname",placeholder:"请输入真实姓名"},{type:"input",label:"用户密码",prop:"password",placeholder:"请输入用户密码",isHidden:!1},{type:"input",label:"电话号码",prop:"cellphone",placeholder:"请输入电话号码"},{prop:"departmentId",type:"select",label:"选择部门",placeholder:"请选择部门",options:[]},{type:"select",label:"选择角色",prop:"roleId",placeholder:"请选择角色",options:[]}]},a=H,M={class:"user"},Q={class:"content"},S=k({__name:"user",setup(T){const p=()=>{const t=a.formItems.find(l=>l.prop==="password");t.isHidden=!1},r=()=>{const t=a.formItems.find(l=>l.prop==="password");t.isHidden=!0},s=w(()=>{const t=I(),l=a.formItems.find(e=>e.prop==="departmentId");l.options=t.entireDepartment.map(e=>({label:e.name,value:e.id}));const h=a.formItems.find(e=>e.prop==="roleId");return h.options=t.entireRoles.map(e=>({label:e.name,value:e.id})),a}),{contentRef:c,handleQueryClick:i,handleResetClick:d}=_(),{modalRef:m,handleEditClick:f,handleNewClick:u}=y(r,p);return(t,l)=>(x(),R("div",M,[n(b,{"search-config":o(P),onQueryClick:o(i),onResetClick:o(d)},null,8,["search-config","onQueryClick","onResetClick"]),v("div",Q,[n(C,{"content-config":o(B),ref_key:"contentRef",ref:c,onEditClick:o(f),onNewClick:o(u)},null,8,["content-config","onEditClick","onNewClick"])]),n(g,{"modal-config":o(s),ref_key:"modalRef",ref:m},null,8,["modal-config"])]))}});const L=N(S,[["__scopeId","data-v-b365f9e9"]]);export{L as default};
